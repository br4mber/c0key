{"version":3,"file":"serviceProviderBase.esm.js","sources":["../src/ServiceProviderBase.ts"],"sourcesContent":[null],"names":["ServiceProviderBase","enableLogging","postboxKey","useTSS","BN","serviceProviderName","tssPubKeys","tssNodeDetails","serverEndpoints","serverPubKeys","serverThreshold","rssNodeDetails","sssNodeDetails","msg","publicKey","retrievePubKey","encryptUtils","encrypt","decryptUtils","toPrivKeyECC","decrypt","toPrivKeyEC","getPublic","type","getPubKeyECC","Error","verifierName","verifierId","tssTag","tssNonce","tssPubKey","tmp","sig","sign","toString","Buffer","from","r","s","value","undefined"],"mappings":"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"}