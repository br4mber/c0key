{"version":3,"file":"commonTypes.esm.js","sources":["../src/utils.ts","../src/base/Point.ts","../src/base/BNUtils.ts","../src/base/Error.ts","../src/base/OneKey.ts","../src/base/PublicPolynomial.ts","../src/base/PublicShare.ts","../src/base/Share.ts","../src/base/Polynomial.ts","../src/base/ShareStore.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null],"names":["ecCurve","EC","encrypt","publicKey","msg","ecEncrypt","encryptedDetails","ciphertext","toString","ephemPublicKey","iv","mac","decrypt","privKey","bufferEncDetails","Buffer","from","ecDecrypt","isEmptyObject","obj","Object","keys","length","constructor","isErrorObj","err","stack","message","prettyPrintError","error","JSON","stringify","serializeError","generateAddressFromPublicKey","ethAddressLower","keccak256","slice","toChecksumAddress","normalize","input","undefined","hexString","toLowerCase","generatePrivateExcludingIndexes","shareIndexes","key","BN","generatePrivate","find","el","eq","KEY_NOT_FOUND","SHARE_DELETED","derivePubKeyXFromPolyID","polyID","split","stripHexPrefix","str","generateID","Math","random","substr","Point","x","y","enc","params","concat","ec","keyFromPublic","getPublic","Error","value","pt","getX","getY","toPrivKeyEC","bn","keyFromPrivate","toPrivKeyECC","tmp","getPubKeyEC","getPubKeyECC","getPubKeyPoint","pubKeyEc","TkeyError","code","defineProperty","name","toJSON","CustomError","ONE_KEY_DELETE_NONCE","ONE_KEY_NAMESPACE","PublicPolynomial","polynomialCommitments","idSeed","i","nextChunk","encode","polynomialId","points","map","fromJSON","PublicShare","shareIndex","shareCommitment","Share","share","Polynomial","polynomial","tmpX","xi","sum","add","mul","umod","curve","n","newShareIndexes","index","shares","polyEval","push","publicPolynomial","ShareStore","polynomialID"],"mappings":"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"}